Aggregation means:
How Datadog combines multiple data points into one value.
That combining process = Aggregation
There are 2 levels of aggregation:
1ï¸âƒ£ Time Aggregation (Over Time)
Example:
CPU values in 1 minute:
10%
20%
30%
40%
avg()===> 10+20+30+40/4==25%
max()===>  40%
min()===> 10%
count() ==>Real Use Case:
How many times error happened.-->count:aws.lambda.errors{env:prod}


2ï¸âƒ£ Space Aggregation (Across Hosts / Resources)
Example:
You have 3 EC2 instances:
Instance A â†’ 40%
Instance B â†’ 60%
Instance C â†’ 20%

=============================
avg() vs sum()
avg()
Calculates average value	
Used for utilization
avg() is used for percentage  basis like cpu ,meory,disk

sum()
Adds all values together
Used for counts,total volume
==>Count (errors, failures, requests)
mainly used for error count for any service like lambda errors,glue job failue..etc
=====================================================
Time Aggregation  vs Space Aggregation
===> Time Aggregation
ðŸ‘‰ Combining values over time
Same resource, multiple timestamps.
Example question:
â€œWhat was CPU average in last 5 minutes?â€
You are aggregating over time.
for ec2 instance  last 5 mins cpu values 
Because we combined values over time.
Use Time Aggregation When:
Alerting
Checking spikes
Rolling average

max(last_5m)
avg(last_10m)
sum(last_1h)




==>Space Aggregation
ðŸ‘‰ Combining values across resources
Different hosts, same timestamp.
Example question:
â€œWhat is average CPU across all instances?â€
You are aggregating across space (hosts).

we calculate 5 differnet hosts
This is Space Aggregation
Because we combined values across hosts.

->Use Space Aggregation When:
Cluster health overview
Capacity planning
Overall system performance

==>avg:cpu without grouping
=========================================

       SIMPLE DIFFERENCE
Type	Combines             What?
Time Aggregation	         Same host, different timestamps
Space Aggregation	         Different hosts, same timestamp




















